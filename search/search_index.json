{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Dynatrace Observability Lab: Apache JMeter Observability","text":"<p>Support Policy</p> <p>This is a demo project created by the Developer Relations team at Dynatrace, showcasing integrations with open source technologies.</p> <p>Support is provided via GitHub issues only. The materials provided in this repository are offered \"as-is\" without any warranties, express or implied. Use them at your own risk.</p> <p>View the Code</p> <p>The code for this repository is hosted on GitHub. Click the \"View Code on GitHub\" link above.</p> <p>This demo will run an Apache JMeter script and send a Dynatrace SDLC event when the load test is finished.</p> <p>The HTTP requests in the JMX file are also instrumented with the recommended <code>x-dynatrace-test</code> headers. Monaco is used to apply configuration to your tenant to capture these header values.</p> <p>This event can be used to trigger further automations such as Dynatrace workflows.</p> <p></p>"},{"location":"#compatibility","title":"Compatibility","text":"Deployment Tutorial Compatible Dynatrace Managed \u2714\ufe0f Dynatrace SaaS \u2714\ufe0f <ul> <li>Click Here to Begin </li> </ul>"},{"location":"cleanup/","title":"4. Cleanup","text":"<p>To cleanup resources, go to https://github.com/codespaces and delete the codespace.</p> <p>You may also want to deactivate or delete the API token.</p> <ul> <li>What's Next? </li> </ul>"},{"location":"getting-started/","title":"2. Getting Started","text":"<p>Live Code Snippets</p> <p>The code snippets in this tutorial can be executed live from within the browser. To enable this, just follow the instructions below.</p> <p>Then click the green buttons below each code snippet. After the command has executed, the response will appear in a popup box at the bottom of the screen.</p> <p>If you do not want to use this functionality, you can still copy and paste the commands into the codespace terminal.</p>"},{"location":"getting-started/#gather-details-tenant-id-environment","title":"Gather Details: Tenant ID &amp; Environment","text":"<p>You will need access to a Dynatrace tenant. If you do not have access, sign up for a free 15 day trial.</p> <p>Make a note of your Dynatrace tenant ID. It is the first bit of your URL (eg. <code>abc12345</code> in the following examples):</p> <pre><code>https://abc12345.live.dynatrace.com\nhttps://abc12345.apps.dynatrace.com\n</code></pre>"},{"location":"getting-started/#gather-details-environment-type","title":"Gather Details: Environment Type","text":"<p>Make a note of your \"environment type\" based on your URL.</p> <p>If you are unsure, use <code>live</code>.</p> URL Environment Type abc12345.apps.dynatrace.com live abc12345.live.dynatrace.com live abc12345.sprint.dynatracelabs.com sprint abc12345.dev.dynatracelabs.com dev"},{"location":"getting-started/#gather-details-create-api-token","title":"Gather Details: Create API Token","text":"<p>Create an API token with the following permissions:</p> <ul> <li><code>ReadConfig</code></li> <li><code>DataExport</code></li> <li><code>CaptureRequestData</code></li> <li><code>openpipeline.events_sdlc</code></li> </ul> <p>The <code>ReadConfig</code>, <code>DataExport</code> and <code>CaptureRequestData</code> permissions will be used by the Monaco Configuration as Code utility to apply configuration to your Dynatrace environment. This configuration will capture the <code>x-dynatrace-test</code> HTTP header and process the values described here.</p> <p>The <code>openpipeline.events_sdlc</code> permission is required to send the \"load test finished\" SDLC event to Dynatrace.</p> <p>Recap Required Info</p> <p>You should now have three pieces of information:</p> <ul> <li>Environment ID</li> <li>Environment Type</li> <li>API Token</li> </ul>"},{"location":"getting-started/#start-demo","title":"Start Demo","text":"<p>Enter Required Information</p> <p>During the next step you will be prompted for some details.</p> <p>Enter the relevant details in the GitHub form.</p> <p>Click this button to launch the demo in a new tab.</p> <p></p> <ul> <li>Click Here to Run the Demo </li> </ul>"},{"location":"resources/","title":"6. Resources","text":""},{"location":"resources/#resources","title":"Resources","text":"<ul> <li> Sign up for a Dynatrace Trial</li> <li> +  Dynatrace &amp; JMeter Integration Documentation</li> <li> This tutorial on GitHub</li> </ul>"},{"location":"run-demo/","title":"3. Run Demo","text":""},{"location":"run-demo/#x-dynatrace-test-headers","title":"x-dynatrace-test Headers","text":"<p>Expect No Traffic in Dynatrace</p> <p>You won't see these values (or any traffic in Dynatrace) by default because the load test is hitting <code>example.com</code></p> <p>If you have a service instrumented with OneAgent or OpenTelemetry, modify <code>example.jmx</code> to hit your URL instead to see traffic.</p> <p>Open jmeterscripts/example.jmx and notice a few things:</p> <ul> <li>The load test calls <code>example.com</code> and specifies an <code>x-dynatrace-test</code> headers with these values:</li> </ul> <pre><code>SI=jmeter;LSN=Scenario1;TSN=Step1;LTN=Demo LoadTest 1\n</code></pre> <p>These values help arrange and organize your load testing across multiple scenarios, steps and load test names.</p> <p>The definition of these values (and additional values) can be found here.</p>"},{"location":"run-demo/#tear-down-thread-group","title":"Tear Down Thread Group","text":"<p>A <code>tearDown</code> thread group exists (which fires at the end of the load test)</p> <ul> <li>This request is a <code>POST</code> to <code>/platform/ingest/v1/events.sdlc</code> with a JSON payload</li> <li>The request has header values set for <code>Content-Type</code> and <code>Authorization</code></li> </ul> <p>This event allows integration opportunitities into other Dynatrace functionality such as triggering workflows automatically at the end of a load test.</p>"},{"location":"run-demo/#run-jmeter","title":"Run JMeter","text":"<p>In the codespace terminal, paste the following:</p> <pre><code>/workspaces/$RepositoryName/apache-jmeter/bin/jmeter.sh -n -t /workspaces/$RepositoryName/jmeterscripts/example.jmx\n</code></pre>"},{"location":"run-demo/#view-events","title":"View Events","text":"<p>When the load test finished, the teardown thread group sends a Software Delivery Lifecycle Event (SDLC) to Dynatrace.</p> <p></p> <p>Notice that the event contains metadata such as the <code>provider</code> and <code>service</code> which can be used for filtering in Dynatrace (see DQL below).</p> <p>This event can be used as a trigger Dynatrace for workflows, synthetic tests, the site reliability guardian and more.</p> <p>In Dynatrace:</p> <ul> <li>Press <code>ctrl + k</code> and search for <code>notebooks</code></li> <li>Open an existing notebook or create a new one</li> <li>Add a new <code>DQL</code> section and paste the following</li> </ul> <pre><code>fetch events\n| filter event.kind == \"SDLC_EVENT\"\n| filter event.provider == \"jmeter\"\n| filter event.category == \"finished\"\n</code></pre> <p></p> <p>The demo is complete.</p> <ul> <li>Click Here to Delete and Cleanup resources </li> </ul>"},{"location":"whats-next/","title":"5. What's Next?","text":"<p>The official Dynatrace documentation has more information that you will probably find useful.</p> <p>View the resources page for more links and useful materials.</p> <ul> <li>View Resources </li> </ul>"},{"location":"snippets/codespace-details-warning-box/","title":"Codespace details warning box","text":"<p>Enter Required Information</p> <p>During the next step you will be prompted for some details.</p> <p>Enter the relevant details in the GitHub form.</p>"},{"location":"snippets/disclaimer/","title":"Disclaimer","text":"<p>Support Policy</p> <p>This is a demo project created by the Developer Relations team at Dynatrace, showcasing integrations with open source technologies.</p> <p>Support is provided via GitHub issues only. The materials provided in this repository are offered \"as-is\" without any warranties, express or implied. Use them at your own risk.</p>"},{"location":"snippets/info-required/","title":"Info required","text":"<p>Recap Required Info</p> <p>You should now have three pieces of information:</p> <ul> <li>Environment ID</li> <li>Environment Type</li> <li>API Token</li> </ul>"},{"location":"snippets/live-code-snippets/","title":"Live code snippets","text":"<p>Live Code Snippets</p> <p>The code snippets in this tutorial can be executed live from within the browser. To enable this, just follow the instructions below.</p> <p>Then click the green buttons below each code snippet. After the command has executed, the response will appear in a popup box at the bottom of the screen.</p> <p>If you do not want to use this functionality, you can still copy and paste the commands into the codespace terminal.</p>"},{"location":"snippets/tenant-id/","title":"Tenant id","text":""},{"location":"snippets/tenant-id/#gather-details-tenant-id-environment","title":"Gather Details: Tenant ID &amp; Environment","text":"<p>You will need access to a Dynatrace tenant. If you do not have access, sign up for a free 15 day trial.</p> <p>Make a note of your Dynatrace tenant ID. It is the first bit of your URL (eg. <code>abc12345</code> in the following examples):</p> <pre><code>https://abc12345.live.dynatrace.com\nhttps://abc12345.apps.dynatrace.com\n</code></pre>"},{"location":"snippets/tenant-id/#gather-details-environment-type","title":"Gather Details: Environment Type","text":"<p>Make a note of your \"environment type\" based on your URL.</p> <p>If you are unsure, use <code>live</code>.</p> URL Environment Type abc12345.apps.dynatrace.com live abc12345.live.dynatrace.com live abc12345.sprint.dynatracelabs.com sprint abc12345.dev.dynatracelabs.com dev"},{"location":"snippets/view-code/","title":"View code","text":"<p>View the Code</p> <p>The code for this repository is hosted on GitHub. Click the \"View Code on GitHub\" link above.</p>"},{"location":"testing/helpers/","title":"Helpers","text":"<p><code>sh { \"name\": \"sleep 30\"} sleep 30</code></p>"}]}